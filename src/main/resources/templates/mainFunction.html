<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${title}">Bubble Sort Visualization</title>
    <style>
        .array-element {
            width: 40px;
            height: 40px;
            display: inline-block;
            margin: 2px;
            text-align: center;
            line-height: 40px;
            border: 1px solid black;
        }

        .current { background-color: yellow; }       /* currently comparing */
        .sorted { background-color: green; }        /* fixed */
        .current-min { background-color: orange; }  /* current smallest */


        /* Left subarray highlight */
        .left-subarray {
            background-color: #add8e6; /* light blue */
        }

        /* Right subarray highlight */
        .right-subarray {
            background-color: #f4a460; /* sandy brown */
        }

        /* Currently comparing elements */
        .current-left {
            background-color: #00ff00; /* green */
            border: 2px solid #008000;
        }

        .current-right {
            background-color: #ff0000; /* red */
            border: 2px solid #800000;
        }

    </style>
</head>
<body>

<h1 th:text="${title}"></h1>

<div id="array-container"></div>

<button id="prevBtn">Previous</button>
<button id="nextBtn">Next</button>
<button id="autoBtn">Auto</button>

<script th:inline="javascript">
    const title = [[${title}]]; // Thymeleaf injects the page title
    let steps = [[${steps}]]; // Thymeleaf injects backend precomputed steps
    let scriptFile = '';

    if (title === 'SelectionSort') {
        scriptFile = '/js/selectionSort.js';
    } else if (title === 'BubbleSort' || title === 'InsertionSort') {
        scriptFile = '/js/bubbleAndInsertion.js';
    } else if(title === 'MergeSort')
        scriptFile ='/js/mergeSort.js'

    if (scriptFile) {
        const script = document.createElement('script');
        script.src = scriptFile;
        script.defer = true; // optional, to wait until HTML is parsed
        document.body.appendChild(script);
    }
</script>
</body>
</html>
